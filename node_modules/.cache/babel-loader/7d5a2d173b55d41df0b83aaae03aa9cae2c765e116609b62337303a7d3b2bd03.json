{"ast":null,"code":"export default {\n  created() {\n    this.getList();\n  },\n  data() {\n    return {\n      tableData: [],\n      dialogVisible: false,\n      replay: {\n        replayData: \"\"\n      }\n    };\n  },\n  methods: {\n    async getList() {\n      const {\n        data: aa\n      } = await this.$http.post(\"/api/consultation/getAllConsultation\");\n      console.log(aa);\n      this.tableData = aa.data;\n    },\n    reset() {\n      this.queryForm.userType = null, this.getList();\n    },\n    async replayCon(row) {\n      const {\n        data: aa\n      } = await this.$http.post(\"/api/consultation/responseConsultation\", {\n        responderId: row.consultantId,\n        consultationId: row.id,\n        content: this.replay.replayData\n      });\n      console.log(aa);\n      if (aa.status === 0) {\n        this.$message.info(\"回复成功\");\n      } else {\n        this.$message.info(\"回复失败：\" + aa.message);\n      }\n      this.getList();\n    }\n  }\n};","map":{"version":3,"names":["created","getList","data","tableData","dialogVisible","replay","replayData","methods","aa","$http","post","console","log","reset","queryForm","userType","replayCon","row","responderId","consultantId","consultationId","id","content","status","$message","info","message"],"sources":["src/components/pages4/ConsultList.vue"],"sourcesContent":["<template>\n  <div>\n    <h3 style=\"margin-top: 0\">咨询列表</h3>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>咨询列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-card>\n\n\n      <el-table :data=\"tableData\" border style=\"width: 100%\" typle=\"margin-top: 90px;\">\n        <el-table-column label=\"ID\" prop=\"id\" />\n        <el-table-column label=\"咨询人id\" prop=\"consultantId\" />\n        <el-table-column label=\"咨询姓名\" prop=\"consultantName\" />\n        <el-table-column label=\"咨询标题\" prop=\"consultationTitle\" />\n        <el-table-column label=\"咨询内容\" prop=\"consultationContent\" />\n        <el-table-column label=\"咨询关键字\" prop=\"consultationKeywords\" />\n        <el-table-column label=\"咨询时间\" prop=\"consultationTime\" :formatter=\"formatDate\"/>\n        <el-table-column label=\"回复人\" prop=\"responderId\" />\n        <el-table-column label=\"回复人姓名\" prop=\"responderName\" />\n        <el-table-column label=\"回复时间\" prop=\"responseTime\" />\n        <el-table-column label=\"回复内容\" prop=\"responseContent\" />\n        <el-table-column label=\"操作\">\n          <template>\n            <!-- 咨询 -->\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"dialogVisible = true\">回复</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 对话框 -->\n      <el-dialog title=\"回复\" :visible.sync=\"dialogVisible\" width=\"50%\" @close=\"dialogVisible = false\">\n        <el-form :model=\"replay\" ref=\"replay\" label-width=\"120px\">\n\n          <el-form-item label=\"回复内容\">\n            <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入回复内容\" v-model=\"replayData\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"replayCon(scope.row)\">回复</el-button>\n            <el-button @click=\"dialogVisible = false\">取消</el-button>\n          </el-form-item>\n        </el-form>\n      </el-dialog>\n\n\n      <div>\n        <el-pagination></el-pagination>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  created() {\n    this.getList();\n  },\n  data() {\n    return {\n      tableData: [],\n      dialogVisible: false,\n      replay: {\n        replayData: \"\",\n      },\n    };\n  },\n  methods: {\n    async getList() {\n      const { data: aa } = await this.$http.post(\"/api/consultation/getAllConsultation\");\n      console.log(aa)\n      this.tableData = aa.data;\n    },\n    reset() {\n      this.queryForm.userType = null,\n        this.getList();\n    },\n    async replayCon(row) {\n      const { data: aa } = await this.$http.post(\"/api/consultation/responseConsultation\", {responderId:row.consultantId,consultationId:row.id, content:this.replay.replayData});\n      console.log(aa)\n      if (aa.status === 0) {\n        this.$message.info(\"回复成功\");\n      } else {\n        this.$message.info(\"回复失败：\"+aa.message);\n      }\n      this.getList();\n    },\n  }\n\n};\n</script>\n\n<style lang=\"less\" scoped>\n.el-breadcrumb {\n  margin-bottom: 15px;\n  font-size: 17px;\n}\n</style>"],"mappings":"AAoDA;EACAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,MAAA;QACAC,UAAA;MACA;IACA;EACA;EACAC,OAAA;IACA,MAAAN,QAAA;MACA;QAAAC,IAAA,EAAAM;MAAA,eAAAC,KAAA,CAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA,CAAAJ,EAAA;MACA,KAAAL,SAAA,GAAAK,EAAA,CAAAN,IAAA;IACA;IACAW,MAAA;MACA,KAAAC,SAAA,CAAAC,QAAA,SACA,KAAAd,OAAA;IACA;IACA,MAAAe,UAAAC,GAAA;MACA;QAAAf,IAAA,EAAAM;MAAA,eAAAC,KAAA,CAAAC,IAAA;QAAAQ,WAAA,EAAAD,GAAA,CAAAE,YAAA;QAAAC,cAAA,EAAAH,GAAA,CAAAI,EAAA;QAAAC,OAAA,OAAAjB,MAAA,CAAAC;MAAA;MACAK,OAAA,CAAAC,GAAA,CAAAJ,EAAA;MACA,IAAAA,EAAA,CAAAe,MAAA;QACA,KAAAC,QAAA,CAAAC,IAAA;MACA;QACA,KAAAD,QAAA,CAAAC,IAAA,WAAAjB,EAAA,CAAAkB,OAAA;MACA;MACA,KAAAzB,OAAA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}