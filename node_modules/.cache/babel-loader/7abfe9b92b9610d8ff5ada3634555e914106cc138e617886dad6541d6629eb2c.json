{"ast":null,"code":"export default {\n  data() {\n    return {\n      tableData: [{\n        name: \"【公共咨询】种好小麦的关键原来是它\",\n        date: \"2024-2-8\",\n        text: \"种好小麦的关键原来是它。\"\n      }, {\n        name: \"【农业政策】国家新出政策：农业以后要...\",\n        date: \"2024-2-8\",\n        text: \"国家新出政策。\"\n      }, {\n        name: \"【技术指导】种好小麦的关键原来是它\",\n        date: \"2024-2-8\",\n        text: \"种好小麦的关键原来是它。\"\n      }, {\n        name: \"【公共咨询】种好小麦的关键原来是它\",\n        date: \"2024-2-8\",\n        text: \"种好小麦的关键原来是它。\"\n      }],\n      dialogVisible: false,\n      registerForm: {\n        username: \"\",\n        password: \"\",\n        identity: \"\",\n        // 初始值可以是'farmer'、'supplier'或'buyer'中的任何一个，或者为空字符串\n        phone: \"\",\n        address: \"\"\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          alert(\"提交成功\"); // 这里应该是一个异步请求来提交表单数据到服务器\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    //删除\n    async delete(row) {\n      console.log(row);\n      const userName = row.username;\n      const confirmResult = await this.$confirm('是否确认删除名称为\"' + userName + '\"的用户?', \"提示\", {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err);\n      // 成功删除为confirm 取消为 cancel\n      if (confirmResult != 'confirm') {\n        this.$refs.multipleTable.clearSelection();\n        return this.$message.info(\"已取消删除\");\n      }\n      const {\n        data: bb\n      } = await this.$http.post(\"/api/user/deleteUser\", {\n        id: row.id\n      });\n      this.$message.success(bb);\n      this.getList();\n    },\n    //取消\n    reset() {\n      this.queryForm.userType = null, this.getList();\n    }\n  }\n};","map":{"version":3,"names":["data","tableData","name","date","text","dialogVisible","registerForm","username","password","identity","phone","address","methods","submitForm","formName","$refs","validate","valid","alert","console","log","delete","row","userName","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","multipleTable","clearSelection","$message","info","bb","$http","post","id","success","getList","reset","queryForm","userType"],"sources":["src/components/pages1/NewsView.vue"],"sourcesContent":["<template>\n    <div>\n      <h3 style=\"margin-top: 0\">发布资讯信息</h3>\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>发布资讯信息</el-breadcrumb-item>\n      </el-breadcrumb>\n      <el-card>\n        <el-row :gutter=\"25\">\n  \n      <el-col :span=\"5\">\n        <el-button type=\"primary\" @click=\"dialogVisible = true\"\n            >发布资讯信息</el-button>\n      </el-col>\n    \n    </el-row>\n  \n        <el-table :data=\"tableData\" border style=\"width: 100%\" typle=\"margin-top: 90px;\">\n          <el-table-column label=\"ID\" prop=\"id\" />\n          <el-table-column label=\"标题\" prop=\"title\" />  \n          <el-table-column label=\"发布时间\" prop=\"publishTime\" />\n          <el-table-column label=\"内容\" prop=\"content\" />\n          <el-table-column label=\"操作\">\n            <template slot-scope=\"scope\">\n              <!-- 修改 -->\n              <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row)\">修改</el-button>\n              <!-- 删除 -->\n              <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"delete(scope.row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n         <!-- 对话框 -->\n      <el-dialog\n        title=\"发布资讯信息\"\n        :visible.sync=\"dialogVisible\"\n        width=\"50%\"\n        @close=\"dialogVisible = false\"\n      >\n        <el-form :model=\"registerForm\" ref=\"registerForm\" label-width=\"120px\">\n          <el-form-item label=\"标题\">\n            <el-input placeholder=\"请输入标题\" v-model=\"registerForm.username\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"内容\">\n            <el-input\n              type=\"textarea\"\n              :rows=\"2\"\n              placeholder=\"请输入内容\"\n              v-model=\"textarea\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"submitForm('registerForm')\"\n              >发布</el-button\n            >\n            <el-button @click=\"dialogVisible = false\">取消</el-button>\n          </el-form-item>\n        </el-form>\n      </el-dialog>\n        <div>\n          <el-pagination></el-pagination>\n        </div>\n      </el-card>\n  \n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        tableData: [\n          {\n            name: \"【公共咨询】种好小麦的关键原来是它\",\n            date: \"2024-2-8\",\n            text: \"种好小麦的关键原来是它。\",\n          },\n          {\n            name: \"【农业政策】国家新出政策：农业以后要...\",\n            date: \"2024-2-8\",\n            text: \"国家新出政策。\",\n          },\n          {\n            name: \"【技术指导】种好小麦的关键原来是它\",\n            date: \"2024-2-8\",\n            text: \"种好小麦的关键原来是它。\",\n          },\n          {\n            name: \"【公共咨询】种好小麦的关键原来是它\",\n            date: \"2024-2-8\",\n            text: \"种好小麦的关键原来是它。\",\n          },\n        ],\n        dialogVisible: false,\n      registerForm: {\n        username: \"\",\n        password: \"\",\n        identity: \"\", // 初始值可以是'farmer'、'supplier'或'buyer'中的任何一个，或者为空字符串\n        phone: \"\",\n        address: \"\",\n      },\n      };\n    },\n    methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert(\"提交成功\"); // 这里应该是一个异步请求来提交表单数据到服务器\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n     //删除\n     async delete(row) {\n      console.log(row)\n      const userName = row.username;\n      const confirmResult = await this.$confirm('是否确认删除名称为\"' + userName + '\"的用户?', \"提示\", {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err)\n      // 成功删除为confirm 取消为 cancel\n      if (confirmResult != 'confirm') {\n        this.$refs.multipleTable.clearSelection();\n        return this.$message.info(\"已取消删除\");\n      }\n      const { data: bb } = await this.$http.post(\"/api/user/deleteUser\", { id: row.id });\n      this.$message.success(bb);\n      this.getList();\n    },\n    //取消\n    reset() {\n      this.queryForm.userType = null,\n      this.getList();\n    }\n  },\n  };\n  </script>\n  \n  <style lang=\"less\" scoped>\n  .el-breadcrumb {\n    margin-bottom: 15px;\n    font-size: 17px;\n  }\n  </style>"],"mappings":"AAmEA;EACAA,KAAA;IACA;MACAC,SAAA,GACA;QACAC,IAAA;QACAC,IAAA;QACAC,IAAA;MACA,GACA;QACAF,IAAA;QACAC,IAAA;QACAC,IAAA;MACA,GACA;QACAF,IAAA;QACAC,IAAA;QACAC,IAAA;MACA,GACA;QACAF,IAAA;QACAC,IAAA;QACAC,IAAA;MACA,EACA;MACAC,aAAA;MACAC,YAAA;QACAC,QAAA;QACAC,QAAA;QACAC,QAAA;QAAA;QACAC,KAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,KAAA;QACA;UACAC,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACA;IACA,MAAAC,OAAAC,GAAA;MACAH,OAAA,CAAAC,GAAA,CAAAE,GAAA;MACA,MAAAC,QAAA,GAAAD,GAAA,CAAAf,QAAA;MACA,MAAAiB,aAAA,cAAAC,QAAA,gBAAAF,QAAA;QACAG,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAC,KAAA,CAAAC,GAAA,IAAAA,GAAA;MACA;MACA,IAAAN,aAAA;QACA,KAAAT,KAAA,CAAAgB,aAAA,CAAAC,cAAA;QACA,YAAAC,QAAA,CAAAC,IAAA;MACA;MACA;QAAAlC,IAAA,EAAAmC;MAAA,eAAAC,KAAA,CAAAC,IAAA;QAAAC,EAAA,EAAAhB,GAAA,CAAAgB;MAAA;MACA,KAAAL,QAAA,CAAAM,OAAA,CAAAJ,EAAA;MACA,KAAAK,OAAA;IACA;IACA;IACAC,MAAA;MACA,KAAAC,SAAA,CAAAC,QAAA,SACA,KAAAH,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}