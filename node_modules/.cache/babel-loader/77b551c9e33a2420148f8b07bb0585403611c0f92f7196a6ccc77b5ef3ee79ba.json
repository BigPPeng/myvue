{"ast":null,"code":"export default {\n  created() {\n    this.getList();\n  },\n  data() {\n    return {\n      tableData: []\n    };\n  },\n  methods: {\n    async getList() {\n      let user = window.sessionStorage.getItem('user');\n      let userObj = JSON.parse(user);\n      const {\n        data: aa\n      } = await this.$http.post(\"/api/recruitment/selectRecruitmentApplicationRecordByApplyUserId\", {\n        id: userObj.id\n      });\n      console.log(aa);\n      this.tableData = aa.data;\n    },\n    //删除\n    async deleteApply(row) {\n      console.log(row);\n      const id = row.id;\n      const confirmResult = await this.$confirm('是否确认删除序号为\"' + id + '\"的报名信息?', \"提示\", {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err);\n      // 成功删除为confirm 取消为 cancel\n      if (confirmResult != 'confirm') {\n        this.$refs.multipleTable.clearSelection();\n        return this.$message.info(\"已取消删除\");\n      }\n      const {\n        data: bb\n      } = await this.$http.post(\"/api/recruitment/delRecruitmentApplicationRecord\", {\n        id: row.id\n      });\n      this.$message.success(bb);\n      this.getList();\n    }\n  }\n};","map":{"version":3,"names":["created","getList","data","tableData","methods","user","window","sessionStorage","getItem","userObj","JSON","parse","aa","$http","post","id","console","log","deleteApply","row","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","$refs","multipleTable","clearSelection","$message","info","bb","success"],"sources":["src/components/pages/employ/RegistrationList.vue"],"sourcesContent":["<template>\n    <div>\n      <h3 style=\"margin-top: 0\">报名列表</h3>\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>雇用农工</el-breadcrumb-item>\n        <el-breadcrumb-item>报名列表</el-breadcrumb-item>\n      </el-breadcrumb>\n      <el-card>\n\n  \n        <el-table\n          :data=\"tableData\"\n          border\n          style=\"width: 100%\"\n          typle=\"margin-top: 90px;\"\n        >\n          <el-table-column label=\"id\" prop=\"id\" />\n          <el-table-column label=\"招聘信息ID\" prop=\"recruitmentInfoId\" />\n          <el-table-column label=\"申请人ID\" prop=\"applicantId\" v-if=\"false\"/>\n          <el-table-column label=\"申请人\" prop=\"applicantName\" v-if=\"false\"/>\n          <el-table-column label=\"申请时间\" prop=\"applicationTime\" />\n          <el-table-column label=\"操作\">\n            <template slot-scope=\"scope\">\n          \n              <!-- 删除 -->\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n                @click=\"deleteApply(scope.row)\"\n                >删除</el-button\n              >\n            </template>\n          </el-table-column>\n        </el-table>\n        <div>\n          <el-pagination></el-pagination>\n        </div>\n      </el-card>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    created() {\n    this.getList();\n  },\n    data() {\n      return {\n        tableData: [],\n      };\n    },\n\n    methods: {\n      async getList() {\n      let user = window.sessionStorage.getItem('user');\n      let userObj = JSON.parse(user);\n      const { data: aa } = await this.$http.post(\"/api/recruitment/selectRecruitmentApplicationRecordByApplyUserId\", {id:userObj.id});\n      console.log(aa)\n      this.tableData = aa.data;\n    },\n    //删除\n    async deleteApply(row) {\n      console.log(row)\n      const id = row.id;\n      const confirmResult = await this.$confirm('是否确认删除序号为\"' + id + '\"的报名信息?', \"提示\", {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err)\n      // 成功删除为confirm 取消为 cancel\n      if (confirmResult != 'confirm') {\n        this.$refs.multipleTable.clearSelection();\n        return this.$message.info(\"已取消删除\");\n      }\n      const { data: bb } = await this.$http.post(\"/api/recruitment/delRecruitmentApplicationRecord\", { id: row.id });\n      this.$message.success(bb);\n      this.getList();\n    },\n  }\n  };\n  </script>\n  \n  <style lang=\"less\" scoped>\n  .el-breadcrumb {\n    margin-bottom: 15px;\n    font-size: 17px;\n  }\n  </style>"],"mappings":"AA4CA;EACAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,KAAA;IACA;MACAC,SAAA;IACA;EACA;EAEAC,OAAA;IACA,MAAAH,QAAA;MACA,IAAAI,IAAA,GAAAC,MAAA,CAAAC,cAAA,CAAAC,OAAA;MACA,IAAAC,OAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAN,IAAA;MACA;QAAAH,IAAA,EAAAU;MAAA,eAAAC,KAAA,CAAAC,IAAA;QAAAC,EAAA,EAAAN,OAAA,CAAAM;MAAA;MACAC,OAAA,CAAAC,GAAA,CAAAL,EAAA;MACA,KAAAT,SAAA,GAAAS,EAAA,CAAAV,IAAA;IACA;IACA;IACA,MAAAgB,YAAAC,GAAA;MACAH,OAAA,CAAAC,GAAA,CAAAE,GAAA;MACA,MAAAJ,EAAA,GAAAI,GAAA,CAAAJ,EAAA;MACA,MAAAK,aAAA,cAAAC,QAAA,gBAAAN,EAAA;QACAO,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAC,KAAA,CAAAC,GAAA,IAAAA,GAAA;MACA;MACA,IAAAN,aAAA;QACA,KAAAO,KAAA,CAAAC,aAAA,CAAAC,cAAA;QACA,YAAAC,QAAA,CAAAC,IAAA;MACA;MACA;QAAA7B,IAAA,EAAA8B;MAAA,eAAAnB,KAAA,CAAAC,IAAA;QAAAC,EAAA,EAAAI,GAAA,CAAAJ;MAAA;MACA,KAAAe,QAAA,CAAAG,OAAA,CAAAD,EAAA;MACA,KAAA/B,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}