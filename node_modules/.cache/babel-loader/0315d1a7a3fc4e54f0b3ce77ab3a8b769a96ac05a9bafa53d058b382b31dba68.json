{"ast":null,"code":"export default {\n  created() {\n    this.getList();\n  },\n  data() {\n    return {\n      tableData: [],\n      dialogVisible: false,\n      replay: {\n        responderId: \"\",\n        consultationId: \"\",\n        content: \"\"\n      }\n    };\n  },\n  methods: {\n    async getList() {\n      const {\n        data: aa\n      } = await this.$http.post(\"/api/consultation/getAllConsultation\");\n      console.log(aa);\n      this.tableData = aa.data;\n    },\n    clickReply(row) {\n      let user = window.sessionStorage.getItem('user');\n      let userObj = JSON.parse(user);\n      this.dialogVisible = true;\n      this.replay.responderId = userObj.id;\n      this.replay.consultationId = row.consultantId;\n    },\n    reset() {\n      this.queryForm.userType = null, this.getList();\n    },\n    async replayCon() {\n      console.log(this.replay);\n      const {\n        data: aa\n      } = await this.$http.post(\"/api/consultation/responseConsultation\", this.replay);\n      console.log(aa);\n      if (aa.status === 0) {\n        this.$message.info(\"回复成功\");\n      } else {\n        this.$message.info(\"回复失败：\" + aa.message);\n      }\n      this.getList();\n    }\n  }\n};","map":{"version":3,"names":["created","getList","data","tableData","dialogVisible","replay","responderId","consultationId","content","methods","aa","$http","post","console","log","clickReply","row","user","window","sessionStorage","getItem","userObj","JSON","parse","id","consultantId","reset","queryForm","userType","replayCon","status","$message","info","message"],"sources":["src/components/pages4/ConsultList.vue"],"sourcesContent":["<template>\n  <div>\n    <h3 style=\"margin-top: 0\">咨询列表</h3>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>咨询列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-card>\n\n\n      <el-table :data=\"tableData\" border style=\"width: 100%\" typle=\"margin-top: 90px;\">\n        <el-table-column label=\"ID\" prop=\"id\" />\n        <el-table-column label=\"咨询人id\" prop=\"consultantId\" />\n        <el-table-column label=\"咨询姓名\" prop=\"consultantName\" />\n        <el-table-column label=\"咨询标题\" prop=\"consultationTitle\" />\n        <el-table-column label=\"咨询内容\" prop=\"consultationContent\" />\n        <el-table-column label=\"咨询关键字\" prop=\"consultationKeywords\" />\n        <el-table-column label=\"咨询时间\" prop=\"consultationTime\"/>\n        <el-table-column label=\"回复人\" prop=\"responderId\" />\n        <el-table-column label=\"回复人姓名\" prop=\"responderName\" />\n        <el-table-column label=\"回复时间\" prop=\"responseTime\" />\n        <el-table-column label=\"回复内容\" prop=\"responseContent\" />\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <!-- 咨询 -->\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"clickReply(scope.row)\">回复</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 对话框 -->\n      <el-dialog title=\"回复\" :visible.sync=\"dialogVisible\" width=\"50%\" @close=\"dialogVisible = false\">\n        <el-form :model=\"replay\" ref=\"replay\" label-width=\"120px\">\n\n          <el-form-item label=\"回复内容\">\n            <el-input type=\"textarea\" :rows=\"2\" v-model=\"replay.responderId\"></el-input>\n            <el-input type=\"textarea\" :rows=\"2\" v-model=\"replay.consultationId\"></el-input>\n            <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入回复内容\" v-model=\"replay.content\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"replayCon()\">回复</el-button>\n            <el-button @click=\"dialogVisible = false\">取消</el-button>\n          </el-form-item>\n        </el-form>\n      </el-dialog>\n\n\n      <div>\n        <el-pagination></el-pagination>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  created() {\n    this.getList();\n  },\n  data() {\n    return {\n      tableData: [],\n      dialogVisible: false,\n      replay: {\n        responderId: \"\",\n        consultationId: \"\",\n        content: \"\",\n      },\n    };\n  },\n  methods: {\n    async getList() {\n      const { data: aa } = await this.$http.post(\"/api/consultation/getAllConsultation\");\n      console.log(aa)\n      this.tableData = aa.data;\n    },\n    clickReply(row) {\n      let user = window.sessionStorage.getItem('user');\n      let userObj = JSON.parse(user);\n      this.dialogVisible = true;\n      this.replay.responderId = userObj.id;\n      this.replay.consultationId = row.consultantId;\n    },\n    reset() {\n      this.queryForm.userType = null,\n        this.getList();\n    },\n    async replayCon() {\n      console.log(this.replay)\n      const { data: aa } = await this.$http.post(\"/api/consultation/responseConsultation\", this.replay);\n      console.log(aa)\n      if (aa.status === 0) {\n        this.$message.info(\"回复成功\");\n      } else {\n        this.$message.info(\"回复失败：\"+aa.message);\n      }\n      this.getList();\n    },\n  }\n\n};\n</script>\n\n<style lang=\"less\" scoped>\n.el-breadcrumb {\n  margin-bottom: 15px;\n  font-size: 17px;\n}\n</style>"],"mappings":"AAsDA;EACAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,MAAA;QACAC,WAAA;QACAC,cAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,OAAA;IACA,MAAAR,QAAA;MACA;QAAAC,IAAA,EAAAQ;MAAA,eAAAC,KAAA,CAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA,CAAAJ,EAAA;MACA,KAAAP,SAAA,GAAAO,EAAA,CAAAR,IAAA;IACA;IACAa,WAAAC,GAAA;MACA,IAAAC,IAAA,GAAAC,MAAA,CAAAC,cAAA,CAAAC,OAAA;MACA,IAAAC,OAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAN,IAAA;MACA,KAAAb,aAAA;MACA,KAAAC,MAAA,CAAAC,WAAA,GAAAe,OAAA,CAAAG,EAAA;MACA,KAAAnB,MAAA,CAAAE,cAAA,GAAAS,GAAA,CAAAS,YAAA;IACA;IACAC,MAAA;MACA,KAAAC,SAAA,CAAAC,QAAA,SACA,KAAA3B,OAAA;IACA;IACA,MAAA4B,UAAA;MACAhB,OAAA,CAAAC,GAAA,MAAAT,MAAA;MACA;QAAAH,IAAA,EAAAQ;MAAA,eAAAC,KAAA,CAAAC,IAAA,gDAAAP,MAAA;MACAQ,OAAA,CAAAC,GAAA,CAAAJ,EAAA;MACA,IAAAA,EAAA,CAAAoB,MAAA;QACA,KAAAC,QAAA,CAAAC,IAAA;MACA;QACA,KAAAD,QAAA,CAAAC,IAAA,WAAAtB,EAAA,CAAAuB,OAAA;MACA;MACA,KAAAhC,OAAA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}